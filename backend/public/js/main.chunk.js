(this.webpackJsonpcsvdataparser=this.webpackJsonpcsvdataparser||[]).push([[0],{171:function(e,t,n){e.exports=n(228)},176:function(e,t,n){},177:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),o=(n(176),n(41)),l=n(42),i=n(46),u=n(45),d=n(44),f=n(14),m=(n(177),n(178),n(179),n(180),n(1)),p=n(107),h=0,y=1,g=n.n(p).a.create({baseURL:"http://localhost:8000/api",headers:{"X-Requested-With":"XMLHttpRequest"}});g.defaults.timeout=2e4,g.sendRequest=function(e,t,n,a,r){switch(e){case h:g.get(t).then((function(e){a&&a(e)})).catch((function(e){r&&r(e)}));break;case y:g.post(t,n).then((function(e){a&&a(e)})).catch((function(e){r&&r(e)}));break;default:console.log("Unhandled RequestType "+e)}};var v=function(e,t){g.sendRequest(h,"/users",null,e,t)},E=function(e,t,n){var a=new FormData;a.append("csv-file",e),g.sendRequest(y,"/upload-file",a,t,n)},S=function(e,t,n){g.sendRequest(h,"/last-user-interactions/"+e,null,t,n)},b=function(e,t,n,a){g.sendRequest(h,"/user-statistics/"+e+"/"+t,null,n,a)},R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("p",null,"CSV-Data Parser"),r.a.createElement(m.Button,{large:"true",intent:"primary",icon:"document",onClick:function(){document.getElementById("upload").click()}},"Upload CSV File"),r.a.createElement("input",{type:"file",id:"upload",accept:"text/csv",style:{display:"none"},onChange:function(e){var t=e.target.files[0];E(t,(function(e){console.log("Upload Success!",e)}),(function(e){console.log("Upload errror:",e)}))}}))},w=(n(103),n(52)),C=n(232),O=n(112);function D(e){var t=Object(f.f)(),n=e.userId,a=e.userName;return r.a.createElement(m.Button,{onClick:function(){t.push("/chartsview?userId="+n+"&userName="+a)}}," View ")}var I={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},k=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).resetUsers=function(){a.setState((function(e){return{numOfUsers:0}})),a.setState((function(e){return{users:[]}})),a.setState((function(e){return{userIDs:[]}}))},a.getUsers=function(){a.resetUsers(),v((function(e){a.setState((function(t){return{numOfUsers:e.data.length}})),a.setState((function(t){return{users:e.data.map((function(e){return e.user_name}))}})),a.setState((function(t){return{userIDs:e.data.map((function(e){return e.id}))}}))}),(function(e){console.log("Error Fetching Users:",e)}))},a.cellRenderer=function(e){return r.a.createElement(w.a,{style:I}," ",a.state.users[e]," ")},a.cellButtonRenderer=function(e){return r.a.createElement(w.a,{style:I}," ",r.a.createElement(D,{userId:a.state.userIDs[e],userName:a.state.users[e]})," ")},a.state={users:[],userIDs:[],numOfUsers:0},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(m.Button,{intent:"success",style:{margin:"20px"},onClick:function(){e.getUsers()}},"Refresh"),r.a.createElement(C.a,{numRows:this.state.numOfUsers,defaultRowHeight:40,selectionModes:"NONE",columnWidths:[300,200]},r.a.createElement(O.a,{name:"User",cellRenderer:this.cellRenderer}),r.a.createElement(O.a,{name:"Details",cellRenderer:this.cellButtonRenderer})))}}]),n}(r.a.Component),x=n(71),U=n(113),j=n.n(U),N=n(117),T=n(114),q=n.n(T),B=n(115),A=n.n(B),M=n(116),_=n.n(M),F=[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],H={textAlign:"center",backgroundColor:"#282c34",minHeight:"100vh",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",color:"white",gap:"50px"},W={textAlign:"center",backgroundColor:"#282c34",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"30px"};A()(q.a);var V={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},z=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).resetInteractions=function(){a.setState((function(e){return{clientNames:[]}})),a.setState((function(e){return{interactionDates:[]}})),a.setState((function(e){return{typeOfCalls:[]}})),a.setState((function(e){return{durations:[]}}))},a.getInteractions=function(e){a.resetInteractions(),S(e,(function(e){a.setState((function(t){return{clientNames:e.data.map((function(e){return e.client.client_name}))}})),a.setState((function(t){return{interactionDates:e.data.map((function(e){return e.date}))}})),a.setState((function(t){return{typeOfCalls:e.data.map((function(e){return e.type_of_call}))}})),a.setState((function(t){return{durations:e.data.map((function(e){return e.duration}))}}))}),(function(e){console.log("Error Fetching Interactions:",e)}))},a.resetStatistics=function(){a.dataSource.categories[0].category=[],a.dataSource.dataset[0].data=[],a.dataSource.dataset[1].data=[]},a.getUserStatistics=function(e){a.resetStatistics(),b(e,a.state.filterType.value,(function(e){e.data.forEach((function(e){a.dataSource.categories[0].category.push({label:e.date}),a.dataSource.dataset[0].data.push({value:e.average_score}),a.dataSource.dataset[1].data.push({value:e.total_call_duration})})),a.forceUpdate()}),(function(e){console.log("Error Fetching Interactions:",e)}))},a.cellClientRenderer=function(e){return r.a.createElement(w.a,{style:V}," ",a.state.clientNames[e]," ")},a.cellDateRenderer=function(e){return r.a.createElement(w.a,{style:V}," ",a.state.interactionDates[e]," ")},a.cellTypeRenderer=function(e){return r.a.createElement(w.a,{style:V}," ",a.state.typeOfCalls[e]," ")},a.cellDurationRenderer=function(e){return r.a.createElement(w.a,{style:V}," ",a.state.durations[e]," ")},a.handleChange=function(e){a.setState({filterType:e},(function(){a.getUserStatistics(a.state.userId),console.log("Option selected:",a.state.filterType)}))},a.state={userId:"",userName:"",clientNames:[],interactionDates:[],typeOfCalls:[],durations:[],filterType:{value:"weekly",label:"Weekly"}},a.dataSource={chart:{caption:"Average Score - Total Call Duration",showhovereffect:"1",drawcrossline:"1",theme:"fusion"},categories:[{category:[]}],dataset:[{seriesname:"Average Score",data:[]},{seriesname:"Total Call Duration (Hours)",data:[]}]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=j.a.parse(this.props.location.search);this.setState((function(t){return{userName:e.userName}})),this.setState((function(t){return{userId:e.userId}})),this.getInteractions(e.userId),this.getUserStatistics(e.userId)}},{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#282c34"}},r.a.createElement("p",{style:W},this.state.userName),r.a.createElement("div",{style:H},r.a.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:"20px"}}," Average User Score "),r.a.createElement(N.a,{style:{width:"30%"},options:F,styles:{option:function(e){return Object(x.a)(Object(x.a)({},e),{},{color:"black"})}},value:this.state.filterType,onChange:this.handleChange}),r.a.createElement(_.a,{type:"msline",width:"100%",height:"70%",dataFormat:"JSON",dataSource:this.dataSource})),r.a.createElement(C.a,{numRows:5,defaultRowHeight:40,selectionModes:"NONE"},r.a.createElement(O.a,{name:"Client",cellRenderer:this.cellClientRenderer}),r.a.createElement(O.a,{name:"Date",cellRenderer:this.cellDateRenderer}),r.a.createElement(O.a,{name:"Type Of Call",cellRenderer:this.cellTypeRenderer}),r.a.createElement(O.a,{name:"Duration",cellRenderer:this.cellDurationRenderer}))))}}]),n}(r.a.Component),J=function(){return r.a.createElement("div",{style:{display:"flex",fontSize:"20px",backgroundColor:"#1f2329"}},r.a.createElement("div",{style:{marginRight:"20px"}},r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement("div",{style:{marginRight:"20px"}},r.a.createElement(d.b,{to:"/tableview"},"Table View")))},L=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(J,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",component:R,exact:!0}),r.a.createElement(f.a,{path:"/tableview",component:k}),r.a.createElement(f.a,{path:"/chartsview",component:z}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[171,1,2]]]);
//# sourceMappingURL=main.4d819c00.chunk.js.map